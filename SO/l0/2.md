# zad2

## definicje
- obsługa przerwań - mechanizm, dzięki któremu CPU i SO reagują na zdarzenia.
- wektor przerwań - numer, któy CPU dostaje wraz z przerwaniem, id w tablicy wektorów przerwań, w której jest zapisany adres procedury obsługi przerwania.
- procedura obsługi prrerwania - kod w kernelu, który odpowiada na konkretne przerwanie.
- tryb jądra - uprzywilejony tryb pracy cpu, w którym może ono wykonać wszystkie instrukcje, odwołać się do całej pamięci i wszystkich rejestrów.

## mechaniz obsługi przerwań bazujący na wektorze przerwań:
1. zgłoszenie przerwania (przez kontroler przerwań)
2. sprzęt dostarcza wektor przerwań
3. CPU zatrzymuje program i zapisuje jego stan (rejestry, counter, stack pointer, flagi), wchodzi w tryb jądra, wykonuje procedurę pod danym wektorem
4. wracamy do pierwotnie wykonywanego programu, przywracamy jego stan (next instrukcja lub powtórzenie jeśli fault)

## co robi CPU zanim pobierze pierwszą instrukcję procedury obsługi przerwania:
- zatrzymuje wykonanie programu i zapisuje jego stan na stosie jądra i przełącza się w tryb jądra.

## dlaczego procedura obsługi przerwań w trybie jądra i na osobnym stosie:
- stos użytkownika może być niepoprawny, złośliwy lub przepełniony.
- jądro gwarantuje miejsce na stosie i ochronę pamięci.

